


ARM Macro Assembler    Page 1 


    1 00000000         ;*******************************************************
                       ******************
    2 00000000         ;                È«¾Ö±äÁ¿£¬´Ócpuport.cÖĞµ¼Èë
    3 00000000         ;*******************************************************
                       ******************
    4 00000000         ;ÓÃÓÚ´æ´¢ÉÏÒ»¸öÏß³ÌµÄspµÄÖ¸Õë
    5 00000000                 IMPORT           rt_interrupt_from_thread
    6 00000000         ;ÓÃÓÚ´æ´¢ÏÂÒ»¸ö½«ÒªÔËĞĞµÄÏß³ÌµÄspÖ¸Õë
    7 00000000                 IMPORT           rt_interrupt_to_thread
    8 00000000         ;PendSVÖĞ¶Ï·şÎñº¯ÊıÖ´ĞĞµÄ±êÖ¾
    9 00000000                 IMPORT           rt_thread_switch_interrupt_flag
   10 00000000         
   11 00000000         
   12 00000000         ;*******************************************************
                       ******************
   13 00000000         ;                 ³£Á¿£¬ÓĞ¹ØÄÚºËÍâÉè¼Ä´æÆ÷
   14 00000000         ;      ÏµÍ³¿ØÖÆ¿éÍâÉèSCBµØÖ··¶Î§0XE000ED00~0XE000ED3F
   15 00000000         ;*******************************************************
                       ******************
   16 00000000 E000ED08 
                       SCB_VTOR
                               EQU              0XE000ED08  ;ÏòÁ¿±íÆ«ÒÆ¼Ä´æÆ÷
   17 00000000 E000ED04 
                       NVIC_INT_CTRL
                               EQU              0XE000ED04  ;ÖĞ¶Ï¿ØÖÆ×´Ì¬¼Ä´æÆ÷
                                                            
   18 00000000 E000ED20 
                       NVIC_SYSPRI2
                               EQU              0XE000ED20  ;ÏµÍ³ÓÅÏÈ¼¶¼Ä´æÆ÷
   19 00000000 00FF0000 
                       NVIC_PENDSV_PRI
                               EQU              0X00FF0000  ;PendSV ÓÅÏÈ¼¶Öµ£¨l
                                                            owest£©
   20 00000000 10000000 
                       NVIC_PENDSVSET
                               EQU              0X10000000  ;´¥·¢PendSV excepti
                                                            onµÄÖµ
   21 00000000         
   22 00000000         
   23 00000000         ;*******************************************************
                       ******************
   24 00000000         ;                  ´úÂë²úÉúÖ¸Áî
   25 00000000         ;*******************************************************
                       ******************
   26 00000000         
   27 00000000                 AREA             |.text|, CODE, READONLY, ALIGN=
2
   28 00000000                 THUMB
   29 00000000                 REQUIRE8
   30 00000000                 PRESERVE8
   31 00000000         
   32 00000000         ;*******************************************************
                       ******************
   33 00000000         ;           º¯ÊıÔ­ĞÍ£ºvoid rt_hw_context_switch_to(rt_ui
                       nt32_t to)
   34 00000000         ;   r0 --> to
   35 00000000         ;   ¸Ãº¯ÊıÓÃÓÚ¿ªÆôµÚÒ»´ÎÏß³ÌÇĞ»»
   36 00000000         ;*******************************************************
                       ******************



ARM Macro Assembler    Page 2 


   37 00000000         
   38 00000000         rt_hw_context_switch_to
                               PROC
   39 00000000         
   40 00000000         ;µ¼³ört_hw_context_switch_to£¬Ê¹Æä¾ßÓĞÈ«¾ÖÊôĞÔ£¬¿ÉÒÔÔÚCÎ
                       Ä¼şÖĞµ÷ÓÃ£¬µ«ÊÇ±ØĞëÔÚrthw.hÎÄ¼şÖĞÉùÃ÷
   41 00000000                 EXPORT           rt_hw_context_switch_to
   42 00000000         
   43 00000000         ;½«rt_interrupt_to_threadµÄµØÖ·¼ÓÔØµ½r1£¬×¢ÒâÕâ±ßµÄµÈÓÚ£
                       ¬LDR Rd£¬=Label£¬ÕâÀïµÄLDR[Î±Ö¸Áî]£¬Èç¹ûlabelÊÇ¸ö±êÊ¶·û£
                       ¨±ÈÈçÖ¸Õë£©£¬Ôò»á´«ÈëÖ¸ÕëµÄµØÖ·
   44 00000000         ;ÄÇÃ´´ËÊ±rt_interrupt_to_threadÖ¸ÏòÕâ¸ösp£¬È»ºóspÔÙÖ¸ÏòÄ
                       Ú´æÖĞµÄÖµ
   45 00000000 4922            LDR              r1, =rt_interrupt_to_thread
   46 00000002         ;½«r0µÄÖµ´æ´¢µ½rt_interrupt_to_thread£¬ÆäÖĞr0´æ´¢µÄÖµÊÇÏ
                       ÂÒ»¸öÒªÔËĞĞµÄÏß³ÌµÄspµÄµØÖ·£¬
   47 00000002         ;ÓÉ¸Ãº¯Êırt_hw_context_switch_to((rt_uint32_t)&to_thread
                       ->sp)µ÷ÓÃÊ±´«Èëµ½r0
   48 00000002 6008            STR              r0,[r1]
   49 00000004         
   50 00000004         ;ÉèÖÃrt_interrupt_from_threadµÄÖµÎª0£¬±íÊ¾Æô¶¯µÚÒ»´ÎÏß³Ì
                       ÇĞ»»
   51 00000004         ;½«rt_interrupt_from_threadµÄµØÖ·¼ÓÔØµ½r1
   52 00000004 4922            LDR              r1, =rt_interrupt_from_thread
   53 00000006         ;ÅäÖÃr0µÈÓÚ0
   54 00000006 F04F 0000       MOV              r0,#0x0
   55 0000000A         ;½«r0µÄÖµ´æ´¢µ½rt_interrupt_from_thread
   56 0000000A 6008            STR              r0,[r1]
   57 0000000C         
   58 0000000C         ;ÉèÖÃÖĞ¶Ï±êÖ¾Î»rt_thread_switch_interrupt_flagµÄÖµÎª1
   59 0000000C         ;½«rt_thread_switch_interrupt_flagµÄµØÖ·¼ÓÔØµ½r1
   60 0000000C 4921            LDR              r1, =rt_thread_switch_interrupt
_flag
   61 0000000E         ;ÅäÖÃr0µÈÓÚ1
   62 0000000E F04F 0001       MOV              r0, #1
   63 00000012         ;½«r0µÄÖµ´æ´¢µ½rt_thread_switch_interrupt_flagÖĞ
   64 00000012 6008            STR              r0,[r1]
   65 00000014         
   66 00000014         ;ÉèÖÃ PendSV Òì³£µÄÓÅÏÈ¼¶
   67 00000014 4820            LDR              r0, =NVIC_SYSPRI2 ;½«Ç¶Ì×ÖĞ¶ÏÏò
                                                            Á¿¿ØÖÆÆ÷µÄ¿ØÖÆÓÅÏÈ¼
                                                            ¶µÄ¼Ä´æÆ÷µØÖ·¼ÓÔØµ½
                                                            r0
   68 00000016 F44F 017F       LDR              r1, =NVIC_PENDSV_PRI ;½«ÓÅÏÈ¼¶µ
                                                            ÄÖµ¼ÓÔØµ½r1
   69 0000001A F8D0 2000       LDR.W            r2, [r0,#0x00] ;¸ÃÃüÁî¶ÁÈ¡NVIC_
                                                            SYSPRI2µÄÖµµ½r2£¨.W
                                                            ÊÇLDRµÄ×ÖÀ©Õ¹£¬±£Ö¤
                                                            ¼ÓÔØµÄÊÇÒ»¸öWord×Ö¡
                                                            ££©
   70 0000001E EA41 0102       ORR              r1,r1,r2    ;¶Ôr1ºÍr2½øĞĞ¡°»ò¡±
                                                            ÔËĞĞËã£¬È»ºó½«½á¹û·
                                                            Åµ½r1ÖĞ
   71 00000022 6001            STR              r1, [r0]    ;½«r1µÄÖµ£¨ĞŞ¸ÄÍê±Ï
                                                            µÄÓÅÏÈ¼¶µÄÖµ£©¸³¸øN
                                                            VIC_SYSPRI2
   72 00000024         
   73 00000024         ;´¥·¢ PendSV Òì³££¨²úÉúÉÏÏÂÎÄÇĞ»»£©
   74 00000024 481D            LDR              r0, =NVIC_INT_CTRL



ARM Macro Assembler    Page 3 


   75 00000026 F04F 5180       LDR              r1, =NVIC_PENDSVSET ;ÕâÊÇÒ»¸öÌØ
                                                            ÊâµÄÖµ£¬ÓÃÓÚ´¥·¢ Pe
                                                            ndSV Òì³£
   76 0000002A 6001            STR              r1, [r0]
   77 0000002C         
   78 0000002C         ;¿ªÖĞ¶Ï¡£CPSIEµÄÈ«Æ´ÊÇ¡°Change Processor State, Interrup
                       t Enable¡±£¬ºóÃæµÄ²ÎÊıF´ú±íFIQ£¨¿ìËÙÖĞ¶ÏÏìÓ¦£©£¬²ÎÊıI´ú±
                       íIRQ£¨ÆÕÍ¨ÖĞ¶ÏÏìÓ¦£©¡£
   79 0000002C B661            CPSIE            F
   80 0000002E B662            CPSIE            I
   81 00000030         
   82 00000030         ;ÓÀÔ¶ÎŞ·¨µ½´ïµÄÎ»ÖÃ,ÓëPROC³É¶Ô³öÏÖ,End Procedure
   83 00000030                 ENDP
   84 00000030         
   85 00000030         
   86 00000030         ;/*
   87 00000030         ; *-----------------------------------------------------
                       ------------------
   88 00000030         ; * void rt_hw_context_switch(rt_uint32 from, rt_uint32 
                       to);
   89 00000030         ; * r0 --> from
   90 00000030         ; * r1 --> to
   91 00000030         ; *-----------------------------------------------------
                       ------------------
   92 00000030         ; */
   93 00000030         rt_hw_context_switch
                               PROC
   94 00000030                 EXPORT           rt_hw_context_switch
   95 00000030         
   96 00000030         ;ÉèÖÃÖĞ¶Ï±êÖ¾Î»rt_thread_switch_interrupt_flagÎª1
   97 00000030         ;¼ÓÔØrt_thread_switch_interrupt_flagµÄµØÖ·µ½r2
   98 00000030 4A18            LDR              r2, =rt_thread_switch_interrupt
_flag
   99 00000032         ;¼ÓÔØrt_thread_switch_interrupt_flagµÄÖµµ½r2
  100 00000032 6813            LDR              r3, [r2]
  101 00000034         ;r3Óë1±È½Ï£¬ÏàµÈÔòÖ´ĞĞBEQÃüÁî
  102 00000034 2B01            CMP              r3, #1
  103 00000036 D004            BEQ              _reswitch
  104 00000038         ;ÉèÖÃr3µÄÖµÎª1
  105 00000038 F04F 0301       MOV              r3, #1
  106 0000003C         ;½«rt_thread_switch_interrupt_flagµÄÖµÖÃ1
  107 0000003C 6013            STR              r3, [r2]
  108 0000003E         
  109 0000003E         ;ÉèÖÃrt_interrupt_from_threadµÄÖµ
  110 0000003E 4A14            LDR              r2, =rt_interrupt_from_thread ;
                                                             ¼ÓÔØrt_interrupt_f
                                                            rom_threadµÄµØÖ·µ½r
                                                            2
  111 00000040 6010            STR              r0, [r2]    ; ´æ´¢r0µÄÖµµ½rt_in
                                                            terrupt_from_thread
                                                            £¬¼´ÉÏÒ»¸öÏß³ÌÕ»Ö¸Õ
                                                            ëspµÄÖ¸Õë
  112 00000042         
  113 00000042         _reswitch
  114 00000042         ;ÉèÖÃrt_interrupt_to_threadµÄÖµ
  115 00000042 4A12            LDR              r2, =rt_interrupt_to_thread ; ¼
                                                            ÓÔØrt_interrupt_fro
                                                            m_threadµÄµØÖ·µ½r2
  116 00000044 6011            STR              r1, [r2]    ; ´æ´¢r1µÄÖµµ½rt_in



ARM Macro Assembler    Page 4 


                                                            terrupt_from_thread
                                                            £¬¼´ÏÂÒ»¸öÏß³ÌÕ»Ö¸Õ
                                                            ëspµÄÖ¸Õë
  117 00000046         
  118 00000046         ;´¥·¢PendSVÒì³££¬ÊµÏÖÉÏÏÂÎÄÇĞ»»
  119 00000046 4815            LDR              r0, =NVIC_INT_CTRL
  120 00000048 F04F 5180       LDR              r1, =NVIC_PENDSVSET
  121 0000004C 6001            STR              r1, [r0]
  122 0000004E         
  123 0000004E         ; ×Ó³ÌĞò·µ»Ø
  124 0000004E 4770            BX               LR
  125 00000050         
  126 00000050         ; ×Ó³ÌĞò½áÊø
  127 00000050                 ENDP
  128 00000050         
  129 00000050         
  130 00000050         ;/*
  131 00000050         ; *-----------------------------------------------------
                       ------------------
  132 00000050         ; * void PendSV_Handler(void);
  133 00000050         ; * r0 --> switch from thread stack
  134 00000050         ; * r1 --> switch to thread stack
  135 00000050         ; * psr, pc, lr, r12, r3, r2, r1, r0 are pushed into [fr
                       om] stack
  136 00000050         ; *-----------------------------------------------------
                       ------------------
  137 00000050         ; */
  138 00000050         
  139 00000050         PendSV_Handler
                               PROC
  140 00000050                 EXPORT           PendSV_Handler
  141 00000050         
  142 00000050         ;½ûÓÃÖĞ¶Ï£¬ÎªÁË±£»¤ÉÏÏÂÎÄÇĞ»»²»±»ÖĞ¶Ï
  143 00000050 F3EF 8210       MRS              r2, PRIMASK ;MRS:¡°Move to Regi
                                                            ster from Special r
                                                            egister¡±¡£½«PRIMAS
                                                            KµÄÖµ£¨µ±Ç°ÖĞ¶Ï×´Ì¬
                                                            £©ÒÆ¶¯µ½r2¼Ä´æÆ÷ÖĞ¡
                                                            £
  144 00000054 B672            CPSID            I           ;¹Ø±ÕIRQÖĞ¶Ï
  145 00000056         
  146 00000056         ;»ñÈ¡ÖĞ¶Ï±êÖ¾Î»£¬¿´¿´ÊÇ·ñÎª0
  147 00000056         ;¼ÓÔØrt_thread_switch_interrupt_flagµÄµØÖ·µ½r0
  148 00000056 480F            LDR              r0, =rt_thread_switch_interrupt
_flag
  149 00000058         ;¼ÓÔØrt_thread_switch_interrupt_flagµÄÖµµ½r1
  150 00000058 6801            LDR              r1, [r0]
  151 0000005A         ;ÅĞ¶Ïr1µÄÖµÊÇ·ñÎª0£¬Îª0ÔòÌø×ªµ½pendsv_exit
  152 0000005A B191            CBZ              r1, pendsv_exit ; CBZ:"Compare 
                                                            and Branch on Zero"
                                                            ¡£Óë0±È½Ï£¬Èç¹ûÊÇ0Ô
                                                            òÌø×ª
  153 0000005C         
  154 0000005C         ;r1¼´rt_thread_switch_interrupt_flagµÄ±êÖ¾Î»²»Îª0
  155 0000005C F04F 0100       MOV              r1, #0x00
  156 00000060         ;½«rt_thread_switch_interrupt_flagÇåÁã
  157 00000060 6001            STR              r1,[r0]
  158 00000062         
  159 00000062         ;ÅĞ¶Ïrt_interrupt_from_threadµÄÖµÊÇ·ñÎª0



ARM Macro Assembler    Page 5 


  160 00000062         ;¼ÓÔØrt_interrupt_from_threadµÄµØÖ·µ½r0
  161 00000062 480B            LDR              r0, =rt_interrupt_from_thread
  162 00000064         ;¼ÓÔØrt_interrupt_from_threadµÄÖµµ½r1
  163 00000064 6801            LDR              r1,[r0]
  164 00000066         ;ÅĞ¶Ïr1µÄÖµÊÇ·ñÎª0£¬Èç¹ûÊÇ0¾Í´ú±íÃ»ÓĞÕâÊÇµÚÒ»´ÎÏß³ÌÇĞ»»£
                       ¬²¢Ã»ÓĞÉÏÎÄĞèÒª±£´æ£¬Ö±½ÓÇĞ»»µ½ÏÂÎÄ¼´¿É£¬Ìø×ªµ½switch_to
                       _thread
  165 00000066 B129            CBZ              r1, switch_to_thread
  166 00000068         
  167 00000068         ; ========================== ÉÏÎÄ±£´æ ==================
                       ============
  168 00000068         ;µ±½øÈëPendSV_HandlerµÄÊ±ºò£¬ÉÏÒ»¸öÏß³ÌÖĞµÄ»·¾³±äÁ¿ÃÇ
  169 00000068         ;xPSR,PC(Ïß³ÌÈë¿ÚµØÖ·),r14,r12,r3,r2,r1,r0£¨Ïß³ÌµÄĞÎ²Î£©
                       ¶¼»á×Ô¶¯±£´æµ½Ïß³ÌµÄÕ»ÖĞ£¬Ê£ÏÂµÄr4~r11ĞèÒªÊÖ¶¯±£´æ
  170 00000068         ;»ñÈ¡Ïß³ÌµÄÕ»Ö¸Õëµ½r1
  171 00000068 F3EF 8109       MRS              r1, psp     ;psp:¡°Process Stac
                                                            k Pointer¡±´æ´¢µ±Ç°
                                                            Ïß³ÌµÄÕ»Ö¸Õë
  172 0000006C         ;½«r4~r11±£´æµ½r1Ö¸ÏòµÄµØÖ·£¨Ã¿²Ù×÷Ò»´Î£¬µØÖ·½«µİ¼õÒ»´Î£
                       ©
  173 0000006C E921 0FF0       STMFD            r1!,{r4- r11} ;STMFD: "Store Mu
                                                            ltiple Full Descend
                                                            ing"Ã¿´Î´æ´¢Íê³Éºó£
                                                            ¬µØÖ·¶¼»á¼õÉÙ32bit£
                                                            ¨1¸ö×Ö£©
  174 00000070         ;¼ÓÔØr0µÄµØÖ·Ö¸ÏòµÄÖµµ½r0£¬¼´r0=rt_interrupt_from_thread
                       ¡£
  175 00000070 6800            LDR              r0, [r0]
  176 00000072         ;½«r1µÄÖµ´æ´¢µ½[r0]£¬¼´¸üĞÂÏß³ÌÕ»sp£¬ÕâÁ½¾äĞèÒªÌØ±ğÀí½âÒ
                       »ÏÂ
  177 00000072         ;½«r1µÄÖµ´æ´¢µ½[r0]£¬¼´r1µÄÖµ´æ´¢µ½[rt_interrupt_from_th
                       read]£¬ÎªÖ®ºóµÄÏß³Ì²Ù×÷»òÕß»Ö¸´×ö×¼±¸
  178 00000072 6001            STR              r1,[r0]
  179 00000074         
  180 00000074         ; ========================== ÏÂÎÄÇĞ»» ==================
                       ============
  181 00000074         switch_to_thread
  182 00000074         ;¼ÓÔØrt_interrupt_to_threadµÄÖµµ½r1
  183 00000074         ;rt_interrupt_to_threadÊÇÒ»¸öÈ«¾Ö±äÁ¿£¬ÀïÃæ±£´æµÄÊÇÏß³ÌÕ
                       »Ö¸ÕëspµÄµØÖ·£¬ÏÂÃæµÄÖ¸ÁîÊÇ¼ÓÔØµÄspµÄµØÖ·µÄµØÖ·
  184 00000074 4905            LDR              r1, =rt_interrupt_to_thread
  185 00000076         ;¼ÓÔØrt_interrupt_to_threadµÄÖµµ½r1£¬ÏÂÃæÖ¸ÁîÊÇ¼ÓÔØµÄspµ
                       ÄµØÖ·
  186 00000076 6809            LDR              r1, [r1]
  187 00000078         ;ÏÂÃæÖ¸ÁîÊÇ¼ÓÔØµÄsp
  188 00000078 6809            LDR              r1, [r1]
  189 0000007A         
  190 0000007A         ;½«Ïß³ÌÕ»Ö¸Õër1£¨²Ù×÷Ç°ÏÈµİ¼õ£©Ö¸ÏòµÄÄÚÈİ¼ÓÔØµ½cpu¼Ä´æÆ÷
                       r4~r11
  191 0000007A E8B1 0FF0       LDMFD            r1!,{r4- r11}
  192 0000007E         ;½«Ïß³ÌÕ»Ö¸Õë¸üĞÂµ½psp
  193 0000007E F381 8809       MSR              psp, r1
  194 00000082         
  195 00000082         pendsv_exit
  196 00000082         ;»Ö¸´ÖĞ¶Ï
  197 00000082 F382 8810       msr              PRIMASK, r2
  198 00000086         
  199 00000086         ;È·±£Òì³£·µ»ØÊ¹ÓÃµÄÕ»Ö¸ÕëÊÇpsp£¬¼´lr¼Ä´æÆ÷µÄÎ»2ÒªÎª1
  200 00000086         ;Í¨¹ı½«lr¼Ä´æÆ÷µÄµÚ2Î»ÉèÖÃÎª1£¨¼´Ìí¼Ó0x04£©£¬Ö¸ÁîÈ·±£ÔÚ´



ARM Macro Assembler    Page 6 


                       ÓÒì³£·µ»ØÊ±£¬´¦ÀíÆ÷Ê¹ÓÃ½ø³ÌÕ»Ö¸Õë£¨psp£©¶ø²»ÊÇÖ÷Õ»Ö¸Õë£¨
                       msp£©¡£
  201 00000086         ;ARM´¦ÀíÆ÷ÓĞÁ½ÖÖÕ»Ö¸Õë£¬psp£¨½ø³ÌÕ»Ö¸Õë£©ºÍmsp£¨Ö÷Õ»Ö¸Õë
                       £©£¬ËüÃÇ·Ö±ğÓÃÓÚ²»Í¬µÄÄ¿µÄ¡£
  202 00000086         ;pspÍ¨³£ÓÃÓÚÆÕÍ¨µÄÓ¦ÓÃ³ÌĞòÏß³Ì£¬¶ømspÓÃÓÚÒì³£´¦ÀíºÍÏµÍ³¼
                       ¶±ğµÄ¹¦ÄÜ¡£
  203 00000086         ;lr£¨Á´½Ó¼Ä´æÆ÷£©Í¨³£ÓÃÓÚ´æ´¢º¯Êı·µ»ØµØÖ·¡£µ«ÔÚÖĞ¶Ï»òÒì³
                       £´¦ÀíÊ±£¬lrµÄÓÃÍ¾»áÂÔÓĞ²»Í¬¡£
  204 00000086         ;µ±·¢ÉúÒì³£Ê±£¬lr»á´æ´¢Ò»Ğ©¶îÍâµÄĞÅÏ¢£¬°ïÖú´¦ÀíÆ÷¾ö¶¨Èçº
                       Î´ÓÒì³£·µ»Ø¡£
  205 00000086 F04E 0E04       ORR              lr, lr, #0x04
  206 0000008A         ;Òì³£·µ»Ø£¬Õâ¸öÊ±ºòÕ»ÖĞµÄÊ£ÏÂÄÚÈİ£¨xPSR£¬PC, r14£¬r12£¬r
                       3£¬r2£¬r1£¬r0£©»á×Ô¶¯¼ÓÔØµ½CPU¼Ä´æÆ÷
  207 0000008A         ;Í¬Ê±£¬pspµÄÖµÒ²»á¸üĞÂ£¬Ö¸ÏòÏß³ÌÕ»µÄÕ»¶¥
  208 0000008A 4770            BX               lr
  209 0000008C         
  210 0000008C         ;×Ó³ÌĞòPendsv_Handler½áÊø
  211 0000008C                 ENDP
  212 0000008C         
  213 0000008C         
  214 0000008C         
  215 0000008C         
  216 0000008C         
  217 0000008C                 ALIGN            4
  218 0000008C         
  219 0000008C                 END
              00000000 
              00000000 
              00000000 
              E000ED20 
              E000ED04 
Command Line: --debug --xref --diag_suppress=9931 --cpu=Cortex-M3 --apcs=interw
ork --depend=..\..\output\context_rvds.d -o..\..\output\context_rvds.o -I.\RTE\
_TFTLCD -ID:\Users\HawkJ\AppData\Local\Arm\Packs\Keil\STM32F1xx_DFP\2.4.1\Devic
e\Include -ID:\Keil_v5\ARM\CMSIS\Include --predefine="__UVISION_VERSION SETA 52
8" --predefine="STM32F10X_HD SETA 1" --list=..\..\output\context_rvds.lst ..\..
\Rt-Thread\Src\context_rvds.s



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Relocatable symbols

.text 00000000

Symbol: .text
   Definitions
      At line 27 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      None
Comment: .text unused
PendSV_Handler 00000050

Symbol: PendSV_Handler
   Definitions
      At line 139 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 140 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: PendSV_Handler used once
_reswitch 00000042

Symbol: _reswitch
   Definitions
      At line 113 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 103 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: _reswitch used once
pendsv_exit 00000082

Symbol: pendsv_exit
   Definitions
      At line 195 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 152 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: pendsv_exit used once
rt_hw_context_switch 00000030

Symbol: rt_hw_context_switch
   Definitions
      At line 93 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 94 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: rt_hw_context_switch used once
rt_hw_context_switch_to 00000000

Symbol: rt_hw_context_switch_to
   Definitions
      At line 38 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 41 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: rt_hw_context_switch_to used once
switch_to_thread 00000074

Symbol: switch_to_thread
   Definitions
      At line 181 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 165 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: switch_to_thread used once
7 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
Absolute symbols

NVIC_INT_CTRL E000ED04

Symbol: NVIC_INT_CTRL
   Definitions
      At line 17 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 74 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 119 in file ..\..\Rt-Thread\Src\context_rvds.s

NVIC_PENDSVSET 10000000

Symbol: NVIC_PENDSVSET
   Definitions
      At line 20 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 75 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 120 in file ..\..\Rt-Thread\Src\context_rvds.s

NVIC_PENDSV_PRI 00FF0000

Symbol: NVIC_PENDSV_PRI
   Definitions
      At line 19 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 68 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: NVIC_PENDSV_PRI used once
NVIC_SYSPRI2 E000ED20

Symbol: NVIC_SYSPRI2
   Definitions
      At line 18 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 67 in file ..\..\Rt-Thread\Src\context_rvds.s
Comment: NVIC_SYSPRI2 used once
SCB_VTOR E000ED08

Symbol: SCB_VTOR
   Definitions
      At line 16 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      None
Comment: SCB_VTOR unused
5 symbols



ARM Macro Assembler    Page 1 Alphabetic symbol ordering
External symbols

rt_interrupt_from_thread 00000000

Symbol: rt_interrupt_from_thread
   Definitions
      At line 5 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 52 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 110 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 161 in file ..\..\Rt-Thread\Src\context_rvds.s

rt_interrupt_to_thread 00000000

Symbol: rt_interrupt_to_thread
   Definitions
      At line 7 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 45 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 115 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 184 in file ..\..\Rt-Thread\Src\context_rvds.s

rt_thread_switch_interrupt_flag 00000000

Symbol: rt_thread_switch_interrupt_flag
   Definitions
      At line 9 in file ..\..\Rt-Thread\Src\context_rvds.s
   Uses
      At line 60 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 98 in file ..\..\Rt-Thread\Src\context_rvds.s
      At line 148 in file ..\..\Rt-Thread\Src\context_rvds.s

3 symbols
349 symbols in table
